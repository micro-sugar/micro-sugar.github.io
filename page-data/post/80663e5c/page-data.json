{"componentChunkName":"component---src-templates-blog-post-js","path":"/post/80663e5c","result":{"data":{"content":{"edges":[{"node":{"id":"f712e898-1f99-5acb-9b1c-0a2b0062af95","html":"<p>最近在看機械學習(machine learning)時，我遇到一個困難就是演算法太多種常常要花很多時間才能選擇到適合的演算法，而且每種演算法光理解及學習就會花很多時間；所以，要如何迅速地找到一個適合的演算法就是我遇到的一個大問題了。</p>\n<p>經過我搜尋後，找到一個解決方法，就是Microsoft Azure的Auto train models；這個工具可以自己找到適合的演算法、自動化的調整參數及產出模型。</p>\n<p>本篇是依微軟文件理解後重新整理出來的，如果要看原文，可以直接拉到最下面由連結至原文資料。</p>\n<h2 id=\"環境需求\" style=\"position:relative;\"><a href=\"#%E7%92%B0%E5%A2%83%E9%9C%80%E6%B1%82\" aria-label=\"環境需求 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>環境需求</h2>\n<ul>\n<li>有Azure帳號</li>\n<li>Anaconda(只有Python也可以，不過部分指令會不太一樣)</li>\n</ul>\n<h3 id=\"建立練習的python虛擬環境\" style=\"position:relative;\"><a href=\"#%E5%BB%BA%E7%AB%8B%E7%B7%B4%E7%BF%92%E7%9A%84python%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83\" aria-label=\"建立練習的python虛擬環境 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>建立練習的Python虛擬環境</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sh line-numbers\"><code class=\"language-sh\"># 創建 Python 3.6 名為myenv的新conda環境。\nconda create -n envAutoML -y Python=3.6\n# 啟動環境\nconda activate envAutoML\n# 更新pip\npython -m pip install --upgrade pip\n# 安裝其他會用到的套件\npip install pandas\npip install matplotlib\npip install psutil</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"安裝azure-machine-learning-sdk-for-python\" style=\"position:relative;\"><a href=\"#%E5%AE%89%E8%A3%9Dazure-machine-learning-sdk-for-python\" aria-label=\"安裝azure machine learning sdk for python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>安裝Azure Machine Learning SDK for Python</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sh line-numbers\"><code class=\"language-sh\"># 在環境中安裝安裝AzureMachine Learning SDK的核心組件(包含Jupyter Notebook)\npip install --upgrade azureml-sdk[notebooks,automl]</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"azure前置作業\" style=\"position:relative;\"><a href=\"#azure%E5%89%8D%E7%BD%AE%E4%BD%9C%E6%A5%AD\" aria-label=\"azure前置作業 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Azure前置作業</h3>\n<p>這邊要記錄下三組字串等等給SDK用</p>\n<ul>\n<li>resource_group: 資源群組</li>\n<li>workspace_name: Azure中Machine Learning service workspace的名稱</li>\n<li>subscription_id: Azure訂用帳戶 ID</li>\n</ul>\n<h4 id=\"azure上建立machine-learning-service-workspace\" style=\"position:relative;\"><a href=\"#azure%E4%B8%8A%E5%BB%BA%E7%AB%8Bmachine-learning-service-workspace\" aria-label=\"azure上建立machine learning service workspace permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Azure上建立Machine Learning service workspace</h4>\n<p>進入Azure後\n首先先選建立資源，並找到並選擇Machine Learning service workspace</p>\n<!-- ![Azure Machine Learning service workspace建立步驟一][createMachineLearningServiceWorkspace1] -->\n<p><img src=\"https://4.bp.blogspot.com/-D8zSWVkg4Lo/W_TZNgI4GwI/AAAAAAAABO8/9Oz2lmo1yG8poIB4qoMhDGt9CjPfdbi5wCKgBGAs/s1600/createMachineLearningServiceWorkspace1.jpg\" alt=\"Azure Machine Learning service workspace建立步驟一\">\n填入工作區名稱(workspace<em>name)\n資源存組(resource</em>group)\n及選擇位置(選擇最近的就可以了)</p>\n<!-- ![Azure Machine Learning service workspace建立步驟二][createMachineLearningServiceWorkspace2] -->\n<p><img src=\"https://2.bp.blogspot.com/-eNfp6InTQqk/W_TZNmCFLtI/AAAAAAAABO8/U1VG7YSXqD44u6o11aZYpQt9NuCyiNBMgCKgBGAs/s1600/createMachineLearningServiceWorkspace2.jpg\" alt=\"Azure Machine Learning service workspace建立步驟二\"></p>\n<h4 id=\"紀錄azure訂用帳戶id\" style=\"position:relative;\"><a href=\"#%E7%B4%80%E9%8C%84azure%E8%A8%82%E7%94%A8%E5%B8%B3%E6%88%B6id\" aria-label=\"紀錄azure訂用帳戶id permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>紀錄Azure訂用帳戶ID</h4>\n<p>於左側選單點選訂用帳戶後再將右邊的訂用帳戶ID(subscription_id)記錄下來</p>\n<!-- ![取得Azure訂閱帳戶ID][getSubscriptionId] -->\n<p><img src=\"https://2.bp.blogspot.com/-qC4pqsuX6L0/W_TZNrcFQlI/AAAAAAAABO8/ZjS9eJ3kEQ8rRlrqOPxNnBC9c3yVkhAAwCKgBGAs/s1600/getSubscriptionId.jpg\" alt=\"取得Azure訂閱帳戶ID\"></p>\n<h3 id=\"建立workspace及其配置文件（configjson）\" style=\"position:relative;\"><a href=\"#%E5%BB%BA%E7%AB%8Bworkspace%E5%8F%8A%E5%85%B6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88configjson%EF%BC%89\" aria-label=\"建立workspace及其配置文件（configjson） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>建立Workspace及其配置文件（config.json）</h3>\n<p>如果未移除Azure資源(下面會說到)，此部分只需要做一次</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\"><span class=\"token keyword\">from</span> azureml<span class=\"token punctuation\">.</span>core <span class=\"token keyword\">import</span> Workspace\n\nsubscription_id <span class=\"token operator\">=</span><span class=\"token string\">'dxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxx290'</span> <span class=\"token comment\"># 將上面記錄的\"subscription_id\"填入</span>\nresource_group <span class=\"token operator\">=</span><span class=\"token string\">'MLGroup'</span> <span class=\"token comment\"># 將上面記錄的\"resource_group\"填入</span>\nworkspace_name <span class=\"token operator\">=</span> <span class=\"token string\">'AutoTrainModels-ws'</span> <span class=\"token comment\"># 將上面記錄的\"workspace_name\"填入</span>\n\n<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n   <span class=\"token comment\"># 建立Workspace</span>\n   ws <span class=\"token operator\">=</span> Workspace<span class=\"token punctuation\">(</span>subscription_id <span class=\"token operator\">=</span> subscription_id<span class=\"token punctuation\">,</span> resource_group <span class=\"token operator\">=</span> resource_group<span class=\"token punctuation\">,</span> workspace_name <span class=\"token operator\">=</span> workspace_name<span class=\"token punctuation\">)</span>\n   <span class=\"token comment\"># 將Workspace寫入成配置文件</span>\n   ws<span class=\"token punctuation\">.</span>write_config<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Library configuration succeeded'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span><span class=\"token punctuation\">:</span>\n   <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Workspace not found'</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"使用auto-train-models\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8auto-train-models\" aria-label=\"使用auto train models permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用Auto train models</h2>\n<h3 id=\"import-packages\" style=\"position:relative;\"><a href=\"#import-packages\" aria-label=\"import packages permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Import packages</h3>\n<p>python載入會用到的套件</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\"><span class=\"token keyword\">import</span> azureml<span class=\"token punctuation\">.</span>core\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">from</span> azureml<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>workspace <span class=\"token keyword\">import</span> Workspace\n<span class=\"token keyword\">from</span> azureml<span class=\"token punctuation\">.</span>train<span class=\"token punctuation\">.</span>automl<span class=\"token punctuation\">.</span>run <span class=\"token keyword\">import</span> AutoMLRun\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">import</span> logging\n<span class=\"token keyword\">from</span> sklearn <span class=\"token keyword\">import</span> datasets\n<span class=\"token keyword\">from</span> matplotlib <span class=\"token keyword\">import</span> pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">from</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">import</span> imshow\n<span class=\"token keyword\">import</span> random\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"load-workspace\" style=\"position:relative;\"><a href=\"#load-workspace\" aria-label=\"load workspace permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Load workspace</h3>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\"><span class=\"token comment\"># 讀取設定檔</span>\nws <span class=\"token operator\">=</span> Workspace<span class=\"token punctuation\">.</span>from_config<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 指定實驗的名稱</span>\nexperiment_name <span class=\"token operator\">=</span> <span class=\"token string\">'automl-classifier'</span>\n<span class=\"token comment\"># 創建並註冊本地目錄。 所有運行實驗的歷史記錄下記錄會存在這。</span>\nproject_folder <span class=\"token operator\">=</span> <span class=\"token string\">'./automl-classifier'</span>\n\n<span class=\"token keyword\">import</span> os\n\n<span class=\"token comment\"># 目前Workspace相關的參數(用jupyter會顯示出來)</span>\noutput <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\noutput<span class=\"token punctuation\">[</span><span class=\"token string\">'SDK version'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> azureml<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>VERSION\noutput<span class=\"token punctuation\">[</span><span class=\"token string\">'Subscription ID'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ws<span class=\"token punctuation\">.</span>subscription_id\noutput<span class=\"token punctuation\">[</span><span class=\"token string\">'Workspace'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ws<span class=\"token punctuation\">.</span>name\noutput<span class=\"token punctuation\">[</span><span class=\"token string\">'Resource Group'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ws<span class=\"token punctuation\">.</span>resource_group\noutput<span class=\"token punctuation\">[</span><span class=\"token string\">'Location'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ws<span class=\"token punctuation\">.</span>location\noutput<span class=\"token punctuation\">[</span><span class=\"token string\">'Project Directory'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> project_folder\npd<span class=\"token punctuation\">.</span>set_option<span class=\"token punctuation\">(</span><span class=\"token string\">'display.max_colwidth'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\npd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span>output<span class=\"token punctuation\">,</span> index<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">''</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>T</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"瀏覽資料\" style=\"position:relative;\"><a href=\"#%E7%80%8F%E8%A6%BD%E8%B3%87%E6%96%99\" aria-label=\"瀏覽資料 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>瀏覽資料</h3>\n<p>這邊使用的測試資料是<a href=\"https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_digits.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">scikit-learn</a>的範例資料集-Optical Recognition of Handwritten Digits Data Set(手寫數字數據集的光學識別)</p>\n<!-- 中文介紹:\nhttps://machine-learning-python.kspax.io/Datasets/ex1_the_digits_dataset.html\n-->\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\"><span class=\"token keyword\">from</span> sklearn <span class=\"token keyword\">import</span> datasets\n<span class=\"token comment\"># 載入Optical Recognition of Handwritten Digits Data Set</span>\ndigits <span class=\"token operator\">=</span> datasets<span class=\"token punctuation\">.</span>load_digits<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 從訓練中排除前100行，以便它們可用於測試。</span>\nX_train <span class=\"token operator\">=</span> digits<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token number\">100</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\ny_train <span class=\"token operator\">=</span> digits<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">[</span><span class=\"token number\">100</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>這邊可以看看這次進行Machine Learning的測試資料</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\"><span class=\"token comment\"># 將數據加載到`numpy`數組中。 然後使用`matplotlib`繪製來自數據集的30個隨機圖像及其上方的標籤。</span>\ncount <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\nsample_size <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\nplt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span>figsize <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> np<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">.</span>permutation<span class=\"token punctuation\">(</span>X_train<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>sample_size<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n    count <span class=\"token operator\">=</span> count <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n    plt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> sample_size<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>axhline<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>axvline<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> s <span class=\"token operator\">=</span> y_train<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fontsize <span class=\"token operator\">=</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>X_train<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> cmap <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>cm<span class=\"token punctuation\">.</span>Greys<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<!-- ![待學習資料][testDataIndex] -->\n<p><img src=\"https://1.bp.blogspot.com/-PYBedBuhNw4/W_TZNouMocI/AAAAAAAABO8/ALdkLypz1S0uG_yMnx7TPSb64K8cDTc7gCKgBGAs/s1600/testDataIndex.png\" alt=\"待學習資料\"></p>\n<h3 id=\"自動訓練模型auto-train-a-model\" style=\"position:relative;\"><a href=\"#%E8%87%AA%E5%8B%95%E8%A8%93%E7%B7%B4%E6%A8%A1%E5%9E%8Bauto-train-a-model\" aria-label=\"自動訓練模型auto train a model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>自動訓練模型(Auto train a model)</h3>\n<p>第一步要設定AutoMLConfig</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\"><span class=\"token keyword\">from</span> azureml<span class=\"token punctuation\">.</span>train<span class=\"token punctuation\">.</span>automl <span class=\"token keyword\">import</span> AutoMLConfig\n\n<span class=\"token comment\">##Local compute </span>\nAutoml_config <span class=\"token operator\">=</span> AutoMLConfig<span class=\"token punctuation\">(</span>\n   task <span class=\"token operator\">=</span> <span class=\"token string\">'classification'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 機器學習問題的類型。 允許的值包括classification,regression</span>\n   primary_metric <span class=\"token operator\">=</span> <span class=\"token string\">'AUC_weighted'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># </span>\n   max_time_sec <span class=\"token operator\">=</span> <span class=\"token number\">12000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 限制疊代運算所花費的時間量 (秒)</span>\n   iterations <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 疊代運算次數上限。 每次疊代運算相當於一個產生管線的訓練作業。 管線是資料前置處理和模型。 若要取得高品質的模型，請使用 250 或更高的值</span>\n   n_cross_validations <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 交叉驗證分割數目</span>\n   exit_score <span class=\"token operator\">=</span> <span class=\"token number\">0.9985</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># primary_metric 的目標值，達到目標後會停止反覆運算</span>\n   blacklist_algos <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 自動化 ML 以從實驗中排除特定演算法</span>\n   X <span class=\"token operator\">=</span> X_train<span class=\"token punctuation\">,</span> <span class=\"token comment\"># 所有要用於訓練的特徵</span>\n   y <span class=\"token operator\">=</span> y_train<span class=\"token punctuation\">,</span> <span class=\"token comment\"># 要用於訓練的資料標籤。應為整數的陣列。</span>\n   path<span class=\"token operator\">=</span>project_folder<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 以本地運行。 將計算目標定義為local，並將輸出設置為true以查看實驗的進度。</span>\n<span class=\"token keyword\">from</span> azureml<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>experiment <span class=\"token keyword\">import</span> Experiment\nexperiment<span class=\"token operator\">=</span>Experiment<span class=\"token punctuation\">(</span>ws<span class=\"token punctuation\">,</span> experiment_name<span class=\"token punctuation\">)</span>\nlocal_run <span class=\"token operator\">=</span> experiment<span class=\"token punctuation\">.</span>submit<span class=\"token punctuation\">(</span>Automl_config<span class=\"token punctuation\">,</span> show_output<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 找到具有最高準確度值的運行</span>\nbest_run<span class=\"token punctuation\">,</span> fitted_model <span class=\"token operator\">=</span> local_run<span class=\"token punctuation\">.</span>get_output<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>   如果上面的設定項裡面有不懂的，這邊附上可以參考學習的資料</p>\n<ul>\n<li>task: <a href=\"https://blogs.msdn.microsoft.com/mengtsai/2015/01/08/azure-algorithms/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Azure 「機器學習」：我該用哪種演算法 (algorithms)?</a></li>\n<li>\n<p>primary_metric: <a href=\"https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/evaluate-model\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">評估模型(Evaluate Model)</a></p>\n<!-- 可以參考![如何確保大數據分析的品質：淺談監督式機器學習的測試評估方法 ](https://www.gss.com.tw/index.php/focus/eis/157-eis82/1540-eis82-2)這篇的度量指標部分 -->\n<!-- 或這篇: https://medium.com/@chih.sheng.huang821/%E6%A9%9F%E5%99%A8%E5%AD%B8%E7%BF%92-%E7%B5%B1%E8%A8%88%E6%96%B9%E6%B3%95-%E6%A8%A1%E5%9E%8B%E8%A9%95%E4%BC%B0-%E9%A9%97%E8%AD%89%E6%8C%87%E6%A8%99-b03825ff0814 -->\n</li>\n<li>iterations: <a href=\"https://zh.wikipedia.org/wiki/%E8%BF%AD%E4%BB%A3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">疊代</a></li>\n<li>n<em>cross</em>validations: <a href=\"https://zh.wikipedia.org/wiki/%E4%BA%A4%E5%8F%89%E9%A9%97%E8%AD%89\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">交叉驗證</a></li>\n</ul>\n<!-- 正常的做法應該是把fitted_model進行測試，不過，由於我只是想學習資料科學家是如何進行資料處理及選擇使用的演算法的\n所以我將fitted_model給print出來\n\n# 將最佳模型相關的資料print出來\nprint(\"fitted_model:\")\nprint(fitted_model)\n\nfitted_model的部分會看到下面這樣的物件\n\nPipeline(memory=None,\n   steps=[('RobustScaler', RobustScaler(copy=True, quantile_range=[25, 75], with_centering=False, with_scaling=False)), ('KNeighborsClassifier', KNeighborsClassifier(algorithm='auto', leaf_size=30, metric='l2', metric_params=None, n_jobs=1, n_neighbors=10, p=2, weights='uniform'))])\n\n從print出來的結果看起來，Microsoft Azure的Auto train models判斷先經過RobustScaler方法的預處理在用KNeighborsClassifier演算法會得到不錯的效果 -->\n<h3 id=\"註冊最佳模型\" style=\"position:relative;\"><a href=\"#%E8%A8%BB%E5%86%8A%E6%9C%80%E4%BD%B3%E6%A8%A1%E5%9E%8B\" aria-label=\"註冊最佳模型 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>註冊最佳模型</h3>\n<p>將最好的模型註冊至Machine Learning Workspace下的Model</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\"><span class=\"token comment\"># 取得最好的模型</span>\nbest_run<span class=\"token punctuation\">,</span> fitted_model <span class=\"token operator\">=</span> local_run<span class=\"token punctuation\">.</span>get_output<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 將模型註冊至workspace</span>\ndescription <span class=\"token operator\">=</span> <span class=\"token string\">'Automated Machine Learning Model'</span>\ntags <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\nlocal_run<span class=\"token punctuation\">.</span>register_model<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span>description<span class=\"token punctuation\">,</span> tags<span class=\"token operator\">=</span>tags<span class=\"token punctuation\">)</span>\nlocal_run<span class=\"token punctuation\">.</span>model_id <span class=\"token comment\"># 這邊會產出一個ID，可以在Machine Learning workspace 的Model那邊看到相同ID的Model</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<!-- ![Azure上Model][Azure_MLWS_Model] -->\n<p><img src=\"https://2.bp.blogspot.com/-wBCUYsLwdbk/W_TZNjeTI3I/AAAAAAAABO8/acwNYzx_Ml8k4YT4Ec5A7Vh4VVbgsK7bwCKgBGAs/s1600/Azure_MLWS_Model.jpg\" alt=\"Azure上Model\"></p>\n<h3 id=\"測試最佳模型\" style=\"position:relative;\"><a href=\"#%E6%B8%AC%E8%A9%A6%E6%9C%80%E4%BD%B3%E6%A8%A1%E5%9E%8B\" aria-label=\"測試最佳模型 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>測試最佳模型</h3>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\"><span class=\"token comment\"># 從測試集中找到30個隨機樣本</span>\nn <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\nX_test <span class=\"token operator\">=</span> digits<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\ny_test <span class=\"token operator\">=</span> digits<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token number\">100</span><span class=\"token punctuation\">]</span>\nsample_indices <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">.</span>permutation<span class=\"token punctuation\">(</span>X_test<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>n<span class=\"token punctuation\">]</span>\ntest_samples <span class=\"token operator\">=</span> X_test<span class=\"token punctuation\">[</span>sample_indices<span class=\"token punctuation\">]</span>\n\n\n<span class=\"token comment\"># 使用上面找到的最佳模型進行測試</span>\nresult <span class=\"token operator\">=</span> fitted_model<span class=\"token punctuation\">.</span>predict<span class=\"token punctuation\">(</span>test_samples<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 比較實際值與預測值：</span>\ni <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\nplt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span>figsize <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> s <span class=\"token keyword\">in</span> sample_indices<span class=\"token punctuation\">:</span>\n    plt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">,</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>axhline<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>axvline<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token comment\"># 對錯誤分類的樣本使用不同的顏色</span>\n    font_color <span class=\"token operator\">=</span> <span class=\"token string\">'red'</span> <span class=\"token keyword\">if</span> y_test<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> result<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token keyword\">else</span> <span class=\"token string\">'black'</span>\n    clr_map <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>cm<span class=\"token punctuation\">.</span>gray <span class=\"token keyword\">if</span> y_test<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> result<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token keyword\">else</span> plt<span class=\"token punctuation\">.</span>cm<span class=\"token punctuation\">.</span>Greys\n    \n    plt<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> s <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fontsize <span class=\"token operator\">=</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> color <span class=\"token operator\">=</span> font_color<span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>X_test<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> cmap <span class=\"token operator\">=</span> clr_map<span class=\"token punctuation\">)</span>\n    \n    i <span class=\"token operator\">=</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<!-- ![驗證的結果][finishTestDataIndex] -->\n<p><img src=\"https://1.bp.blogspot.com/-1oFSzeQzkig/W_TZNkkynFI/AAAAAAAABO8/7OalVQ7lWNUWvE_f9tILUDIZtpt5kzyJgCKgBGAs/s1600/finishTestDataIndex.png\" alt=\"驗證的結果\">\n其中上面標紅色字的就是機器人判斷錯誤的</p>\n<h3 id=\"移除azure資源\" style=\"position:relative;\"><a href=\"#%E7%A7%BB%E9%99%A4azure%E8%B3%87%E6%BA%90\" aria-label=\"移除azure資源 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>移除Azure資源</h3>\n<p>如果不打算繼續使用了，請將其刪除，以免產生費用。</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-py line-numbers\"><code class=\"language-py\">ws<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span>delete_dependent_resources<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"結論\" style=\"position:relative;\"><a href=\"#%E7%B5%90%E8%AB%96\" aria-label=\"結論 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>結論</h2>\n<ul>\n<li>優點: 快速、方便，在專案內沒有專業的數據科學家時可以快速的建立Machine learning的Model</li>\n<li>缺點: 需要使用付費的Microsoft的Azure服務、目前只支援監督式學習(Supervised learning)</li>\n</ul>\n<h2 id=\"備註\" style=\"position:relative;\"><a href=\"#%E5%82%99%E8%A8%BB\" aria-label=\"備註 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>備註</h2>\n<h3 id=\"相關資料\" style=\"position:relative;\"><a href=\"#%E7%9B%B8%E9%97%9C%E8%B3%87%E6%96%99\" aria-label=\"相關資料 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>相關資料</h3>\n<ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/azure/machine-learning/service/how-to-automated-ml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">什麼是自動化機器學習服務？</a></li>\n<li><a href=\"https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/machine-learning/service/how-to-configure-auto-train.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">how-to-configure-auto-train</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/python/api/overview/azure/ml/intro?view=azure-ml-py\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Azure Machine Learning SDK for Python</a></li>\n<li><a href=\"https://blogs.msdn.microsoft.com/mengtsai/2015/01/08/azure-algorithms/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Azure 「機器學習」：我該用哪種演算法 (algorithms)?</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/evaluate-model\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">評估模型(Evaluate Model)</a></li>\n<li><a href=\"https://www.gss.com.tw/index.php/focus/eis/157-eis82/1540-eis82-2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">如何確保大數據分析的品質：淺談監督式機器學習的測試評估方法 </a></li>\n<li><a href=\"https://medium.com/@chih.sheng.huang821/%E6%A9%9F%E5%99%A8%E5%AD%B8%E7%BF%92-%E7%B5%B1%E8%A8%88%E6%96%B9%E6%B3%95-%E6%A8%A1%E5%9E%8B%E8%A9%95%E4%BC%B0-%E9%A9%97%E8%AD%89%E6%8C%87%E6%A8%99-b03825ff0814\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">機器學習\\統計方法: 模型評估-驗證指標(validation index)</a></li>\n<li><a href=\"https://zh.wikipedia.org/wiki/%E8%BF%AD%E4%BB%A3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">wiki-疊代</a></li>\n<li><a href=\"https://zh.wikipedia.org/wiki/%E4%BA%A4%E5%8F%89%E9%A9%97%E8%AD%89\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">wiki-交叉驗證</a></li>\n</ul>","excerpt":"最近在看機械學習(machine learning…","fields":{"slug":"80663e5c"},"frontmatter":{"id":null,"title":"微軟的自動化機械學習服務","slug":"80663e5c","date":"2018-11-15T17:08:03.000Z","headerImage":null}},"previous":null,"next":null}]}},"pageContext":{"id":"f712e898-1f99-5acb-9b1c-0a2b0062af95","index":1}}}